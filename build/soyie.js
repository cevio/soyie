!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Soyie=t():e.Soyie=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){return"function"==typeof t?v["default"][e]=t:!function(){var n=function(e){function n(e){i(this,n),p(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e);var o=t.events;if(o)for(var r in o){var s=r.replace(/^(\w)/,function(e){return e.toUpperCase()});this["on"+s]=o[r]}O.extend(this,t,!0)}return s(n,e),n}(h.COMPONENT);v["default"][e]=n}(),this}function u(e){b["default"](e)}function c(e){var t="string"!=typeof e?e:document.querySelector("webapp[so-name='"+e+"']"),n=t.innerHTML,o=O.createHtmlNode(n);t.parentNode.replaceChild(o.node,t);var r=new E["default"];return y.DOMSCAN(o,r),r}function f(e,t,n){"function"==typeof t&&(n=t,t={});var o=this.app(e).init(t);return"function"==typeof n&&n.call(o.scope,o.scope),o.scope}function l(e,t){P["default"][e]||(P["default"][e]=t)}Object.defineProperty(t,"__esModule",{value:!0});var p=function(e,t,n){for(var o=!0;o;){var r=e,i=t,s=n;a=c=u=void 0,o=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,i);if(void 0!==a){if("value"in a)return a.value;var u=a.get;return void 0===u?void 0:u.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return void 0;e=c,t=i,n=s,o=!0}};t.component=a,t.ready=u,t.app=c,t.bootstrap=f,t.directive=l;var h=n(8),d=n(4),v=r(d),y=n(7),m=n(18),b=r(m),_=n(1),O=o(_),g=n(17),E=r(g),j=n(3),w=o(j),k=n(6),P=r(k),x=n(2),M=r(x),C=h.COMPONENT;t.componentStructor=C;var N=w;t.watch=N;var A=O;t.util=A;var T=M["default"];t.nodeStructor=T},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(){return document.createDocumentFragment()}function i(e){var t=r(),n=document.createComment("Fragment Start"),o=document.createComment("Fragment End"),i=document.createElement("div"),s=[];i.innerHTML=e,t.appendChild(n),m.call(i.childNodes,0).forEach(function(e){t.appendChild(e),s.push(e)}),t.appendChild(o);var a=Object.create({});return Object.defineProperties(a,{childNodes:{value:s},node:{value:t},start:{value:n},end:{value:o}}),i=null,a}function s(e,t){var n=b.call(e).split(" ")[1].replace(/\]$/,"");return t?n==t:n}function a(e,t,n){for(var o in t)e[o]?n&&(e[o]=t[o]):e[o]=t[o];return e}function u(e){var n=[];return e.split(t.REGEXP_TAGSPILTOR).forEach(function(e,t){var o=t%2===1;if(o)n.push("("+e+")");else{var r=e.replace(/\'/g,"\\'");r.length&&n.push("'"+r+"'")}}),n.join(" + ")}function c(e){return e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})}function f(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function l(e,t,n){try{var o=new Function("value","scope","scope."+n+"=value;");o(e,t)}catch(r){console.warn("scope."+n+"=value;",r)}}function p(e,t,n){try{n||(n={});var o=[];for(var r in n)o.push("var "+r+" = $options['"+r+"'];");var i=new Function("$this","$options",o.join("\n")+"\nwith($this){return "+e+"}"),s=i(t,n);return void 0===s||null===s?this.configs.defaultText:s}catch(a){return this.configs.defaultText}}function h(e,t,n,o){Object.defineProperty(e,t,{value:n,enumerable:!!o,writable:!0,configurable:!0})}function d(e,t,n){var o=e[t];Object.defineProperty(e,t,{get:function(){return o},set:function(e){var t=o;o=e,"function"==typeof n&&n(o,t)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.createNodeCopier=r,t.createHtmlNode=i,t.type=s,t.extend=a,t.formatExpression=u,t.enHump=c,t.deHump=f,t.set=l,t.get=p,t.defineValue=h,t.defineIndex=d;var v=n(19),y=o(v),m=Array.prototype.slice;t.slice=m;var b=Object.prototype.toString;t.toString=b;var _=/\{\{([^\}\}]+)\}\}/g;t.REGEXP_TAGSPILTOR=_;var O=/(["|'])(.+?)*?\1/g;t.REGEXP_STRING=O;var g=/([^\s]+?)\sin\s(.+)/i;t.REGEXP_COMMAND_IN=g;var E=/(\B\$parent\.)+?[a-zA-z_\.\$0-9]+/g;t.REGEXP_PARENT=E;var j=["head","script","meta","link","title","script","hr","br"];t.exceptTagNames=j;var w={},k=w.configs;t.configs=k,t.configs=k={defaultText:"",commandPrefix:"so"};var P=y["default"];t.hashCode=P},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),a=o(s),u=function(){function e(t,n){r(this,e),this.node=t,this.value=null,this.namespace="node",this.parent=null,this.expression=n,this.scope=null}return i(e,[{key:"set",value:function(e){this.value!==e&&(this.node.nodeValue=e,this.value=e)}},{key:"get",value:function(){return this.value}},{key:"notify",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.scope:arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this.scope=e,this.options=t,this.set(a.get(this.expression,this.scope,t))}}]),e}();t["default"]=u,e.exports=t["default"]},function(e,t,n){"use strict";e.exports=n(15)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={},e.exports=t["default"]},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),s=r(i),a=n(1),u=o(a),c=n(6),f=r(c);t["default"]=function(e,t){var n=[];return u.slice.call(e.attributes,0).forEach(function(o){var r=o.nodeName;if(f["default"][r])n.push(f["default"][r](o,e,t));else{var i=u.formatExpression(o.nodeValue),a=new s["default"](o,i);a.parent=t,n.push(a)}}),n},e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),i=o(r),s=n(11),a=o(s),u=n(12),c=o(u),f=n(9),l=o(f),p=n(10),h=o(p),d={"so-src":i["default"],"so-html":a["default"],"so-on":c["default"],"so-binding":l["default"],"so-disabled":h["default"]};t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){b.slice.call(e.childNodes,0).forEach(function(e){if(1!==e.nodeType||"app"!==e.tagName.toLowerCase())switch(e.nodeType){case 1:u(e,t);break;case 3:s(e,t)}})}function s(e,t){t.objects=t.objects.concat(p["default"](e,t))}function a(e,t){t.objects=t.objects.concat(d["default"](e,t))}function u(e,t){var n=e.tagName.toLowerCase();if(f["default"][n]){var o=f["default"][n],r=new o(e);r.parentroot=t,r.init(),t.components.push(r)}else if(e.hasAttribute("so-repeat")){var s=new y.Block(e);s.DOMSCAN=i,s.parentroot=t,s.init(),t.arrays.push(s)}else a(e,t),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DOMSCAN=i;var c=n(4),f=r(c),l=n(16),p=r(l),h=n(5),d=r(h),v=n(13),y=o(v),m=n(1),b=o(m)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(1),u=r(a),c=n(7),f=n(3),l=o(f),p=function(){function e(t){i(this,e),this.namespace="component",this.props=[],this.interfaces={},this.outerfaces={},this.virtualDom=t,this.element=null,this.template=t.innerHTML,this.objects=[],this.components=[],this.arrays=[],this.DOMSCAN=c.DOMSCAN,this.keys={},this.parent=null,this.scope=null,this.watcher=l["default"],this.installed=!1,this.onBeforeInit=null,this.onInjectProps=null,this.onScanDoms=null,this.onInit=null,this.onCheckPropsError=null,this.onBeforeRender=null,this.onRendered=null,this.onBeforeUpdate=null,this.onUpdated=null,this.onWrapTemplate=function(e){return e}}return s(e,[{key:"init",value:function(){"function"==typeof this.onBeforeInit&&this.onBeforeInit(),this.injectProps(),"function"==typeof this.onInjectProps&&this.onInjectProps(),this.element=u.createHtmlNode(this.onWrapTemplate(this.template)),this.virtualDom.parentNode.replaceChild(this.element.node,this.virtualDom),c.DOMSCAN(this.element,this),"function"==typeof this.onScanDoms&&this.onScanDoms(),"function"==typeof this.onInit&&this.onInit()}},{key:"injectProps",value:function(){var e=this;if(u.type(this.props,"Array"))this.props.forEach(function(t){var n=u.deHump(t);e.interfaces[t]={type:[],"default":"",required:!1,validator:null,dehump:n},e.outerfaces[n]=e.interfaces[t],e.virtualDom.hasAttribute(n)&&(e.keys[t]=u.formatExpression(e.virtualDom.getAttribute(n)))});else for(var t in this.props){var n=u.deHump(t);this.interfaces[t]={type:this.props[t].type||[],"default":this.props[t]["default"]||"",required:this.props[t].required||!1,validator:this.props[t].validator||null,dehump:n},u.type(this.interfaces[t].type,"Array")||(this.interfaces[t].type=[this.interfaces[t].type]),this.outerfaces[n]=this.interfaces[t],this.virtualDom.hasAttribute(n)&&(this.keys[t]=u.formatExpression(this.virtualDom.getAttribute(n)))}}},{key:"state",value:function(e,t){var n=!0;if(this.interfaces[e]){var o=this.interfaces[e];if(o.required&&(void 0===e||null===e))return"function"==typeof this.onCheckPropsError&&this.onCheckPropsError(new Error("key ["+e+"] required, but it is undefined.")),n;if(-1==o.type.indexOf(u.type(t))&&o.type.length>0)return"function"==typeof this.onCheckPropsError&&this.onCheckPropsError(new Error("key ["+e+"] need a value of ["+o.type+"]")),n;if(o.validator){var r=u.type(t);if("RegExp"==r){if(!o.validator.test(t))return"function"==typeof this.onCheckPropsError&&this.onCheckPropsError(new Error("check props of "+e+" faild.")),n}else if("Function"==r){if(0==o.validator(t))return"function"==typeof this.onCheckPropsError&&this.onCheckPropsError(new Error("check props of "+e+" faild.")),n}else if(t!=o.validator)return"function"==typeof this.onCheckPropsError&&this.onCheckPropsError(new Error("check props of "+e+" faild.")),n}}}},{key:"notify",value:function(e){var t=this;this.parent&&this.parent.__ob__&&this.parent!=e&&this.parent.__ob__.vms.$remove(this),e&&(this.parent=e),this.watch(this.parent);var n,o=!0;if(this.installed){n=this.scope;for(var r in this.interfaces){var i=this.guest(r),s=this.state(r,i);s?o=!1:n[r]!=i&&(n[r]=i)}}else{n={};for(var r in this.interfaces){var i=this.guest(r),s=this.state(r,i);s?o=!1:n[r]=i}}o&&(this.scope=n,this.watch(this.scope),this.installed?("function"==typeof this.onBeforeUpdate&&this.onBeforeUpdate(),this.objects.forEach(function(e){return e.notify(t.scope)}),this.arrays.forEach(function(e){e.installed||e.notify(t.scope)}),"function"==typeof this.onUpdated&&this.onUpdated()):("function"==typeof this.onBeforeRender&&this.onBeforeRender(),"function"==typeof this.handle&&this.handle.call(n,n),this.objects.forEach(function(e){return e.notify(t.scope)}),this.arrays.forEach(function(e){e.installed||e.notify(t.scope)}),this.components.forEach(function(e){e.installed||e.notify(t.scope)}),this.installed=!0,"function"==typeof this.onRendered&&this.onRendered()))}},{key:"guest",value:function(e){var t=u.get(this.keys[e],this.parent);return(void 0===t||null===t||""===t)&&(t=this.interfaces[e]["default"]),t}},{key:"watch",value:function(e){if(e)if(l["default"].create(e,this),u.type(e,"Object"))for(var t in e)this.watch(e[t]);else if(u.type(e,"Array"))for(var n=e.length;n--;)l["default"].take(e,n,this),this.watch(e[n])}}]),e}();t.COMPONENT=p},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=r(i),a=n(2),u=o(a),c="text,password,tel,color,date,datetime,datetime-local,month,week,time,email,number,range,search,url".split(","),f={};f.Textarea=f.Text=function(e){e.stop=!1,e.set=function(e){this.stop?this.stop=!1:this.node.value=e},e.node.addEventListener("input",function(){e.stop=!0,s.set(this.value,e.scope,e.expression)},!1)},f.Select=function(e){e.stop=!1,e.set=function(e){if(this.stop)this.stop=!1;else{var t,n=!1;for(t=0;t<this.node.options.length;t++)if(this.node.options[t].value==e+""){this.node.options[t].selected=!0,n=!0;break}if(!n)for(t=0;t<this.node.options.length;t++)this.node.options[t].selected=!1}},e.node.addEventListener("change",function(){e.stop=!0;var t=this.value;t||(t=this.options[this.selectedIndex].value),s.set(t,e.scope,e.expression)},!1)},f.Checkbox=function(e){e.stop=!1,e.set=function(e){this.stop?this.stop=!1:this.node.value==e+""?this.node.checked=!0:this.node.checked=!1};var t;e.node.hasAttribute("so-unchecked")&&(t=e.node.getAttribute("so-unchecked"),e.node.removeAttribute("so-unchecked")),e.node.addEventListener("change",function(){e.stop=!0;var n=this.value;this.checked||(n=t),s.set(n,e.scope,e.expression)},!1)},f.Radio=function(e){e.stop=!1,e.set=function(e){this.stop?this.stop=!1:this.node.value==e+""?this.node.checked=!0:this.node.checked=!1},e.node.addEventListener("change",function(){e.stop=!0;var t=this.value;this.checked||(t=void 0),s.set(t,e.scope,e.expression)},!1)},t["default"]=function(e,t,n){var o=e.nodeValue,r=new u["default"](t,o),i=(t.type||"NULL").toLowerCase(),s=t.tagName.toUpperCase(),a=null;switch(t.removeAttribute("so-binding"),r.parent=n,s){case"INPUT":a=c.indexOf(i)>-1?"Text":"radio"===i?"Radio":"checkbox"===i?"Checkbox":"file"===i?"File":"Common";break;case"SELECT":a="Select";break;case"TEXTAREA":a="Textarea";break;default:a="Common"}return f[a]&&f[a](r),r},e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=r(i),a=n(2),u=o(a);t["default"]=function(e,t,n){var o=s.formatExpression(e.nodeValue),r=new u["default"](t,o);return r.parent=n,r.set=function(e){e=!!e,this.value!==e&&(this.node.disabled=e,this.value=e)},r.node.removeAttribute("so-disabled"),r},e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=r(i),a=n(2),u=o(a);t["default"]=function(e,t,n){var o=s.formatExpression(e.nodeValue),r=new u["default"](t,o);return r.parent=n,r.set=function(e){this.value!==e&&(this.node.innerHTML=e,this.value=e)},r.node.removeAttribute("so-html"),r},e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=(r(i),n(2)),a=o(s);t["default"]=function(e,t,n){var o=e.nodeValue,r=new a["default"](t,o);return r.parent=n,r.value={},r.options={},r.set=function(e,t){return r.value[e].foo=t},r.node.events=r.node.events||[],r.expression.split("|").forEach(function(e){var t=e.indexOf(":"),n=e.substring(0,t),o=e.substring(t+1).trim();-1==r.node.events.indexOf(n)&&(r.value[n]={expression:o,foo:null},r.node.addEventListener(n,function(){for(var e=arguments.length,t=Array(e),o=0;e>o;o++)t[o]=arguments[o];var i=r.value[n];if(i){var s=i.foo;if("function"==typeof s){var a=s.call(r.node,r.scope,r.options);"function"==typeof a&&a.apply(r.node,t)}}},!1),r.node.events.push(n))}),r.notify=function(){var e=arguments.length<=0||void 0===arguments[0]?this.scope:arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];r.scope=e,r.options=t;var n=[];for(var o in r.options)n.push("var "+o+" = $options['"+o+"'];");for(var i in r.value)this.set(i,new Function("$this","$options",n.join("\n")+"\nwith($this){return "+r.value[i].expression+"}"))},t.removeAttribute("so-on"),r},e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(1),u=r(a),c=n(3),f=o(c),l=n(5),p=o(l),h=function(){function e(t){i(this,e),this.element=t,this.namespace="repeat-block",this.fragment=u.createNodeCopier(),this.expression=u.formatExpression(t.getAttribute("so-repeat")),this.element.removeAttribute("so-repeat"),this.template=this.element.cloneNode(!0),this.parent=null,this.objects=[],this.components=[],this.installed=!1}return s(e,[{key:"init",value:function(){this.commentStartNode=document.createComment("Repeat Start"),this.commentEndNode=document.createComment("Repeat End"),this.fragment.appendChild(this.commentStartNode),this.fragment.appendChild(this.commentEndNode),this.element.parentNode.replaceChild(this.fragment,this.element)}},{key:"notify",value:function(e){var t=this,n=u.get(this.expression,e);n&&u.type(n,"Array")&&(n.hasOwnProperty("__parent__")?n.__parent__=e:u.defineValue(n,"__parent__",e),f["default"].create(n,this),this.removeAll(),n.length&&n.forEach(function(o,r){t.add(n,r,e)}),this.installed=!0)}},{key:"removeAll",value:function(){for(var e=this.components.length;e--;)this.components[e].remove()}},{key:"add",value:function(e,t,n){var o=this.append();o.notify(e,t,n),f["default"].take(e,t,o)}},{key:"append",value:function(){var e=new d,t=this.template.cloneNode(!0);return this.commentEndNode.parentNode.insertBefore(t,this.commentEndNode),e.objects=e.objects.concat(p["default"](t,e)),this.DOMSCAN(t,e),e.element=t,e.root=this,this.components.push(e),e}}]),e}();t.Block=h;var d=function(){function e(){i(this,e),this.namespace="repeat-single",this.objects=[],this.components=[],this.arrays=[],this.scope=null}return s(e,[{key:"notify",value:function(e,t,n){n&&(n!==this.parent&&this.parent&&this.parent.__ob__&&this.parent.__ob__.vms.$remove(this),this.parent=n,f["default"].create(this.parent,this));var o={$index:t,$parent:this.parent};this.objects.forEach(function(n){return n.notify(e[t],o)}),this.arrays.forEach(function(n){n.installed||n.notify(e[t])}),this.components.forEach(function(n){n.installed||n.notify(e[t])}),this.watch(e[t])}},{key:"watch",value:function(e){var t=this;e&&(f["default"].create(e,this),Object.keys(e).forEach(function(n){u.type(e[n],"Object")&&t.watch(e[n])}))}},{key:"remove",value:function(){this.element.parentNode.removeChild(this.element),this.root.components.$remove(this)}}]),e}();t.Single=d},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=r(i),a=n(2),u=o(a);t["default"]=function(e,t,n){var o=s.formatExpression(e.nodeValue),r=new u["default"](t,o);return r.parent=n,r.set=function(e){this.value!==e&&(this.node.src=e,this.value=e)},r.node.removeAttribute("so-src"),r},e.exports=t["default"]},function(e,t,n){"use strict";function o(e,t,n){for(var o,r=n.length;r--;)o=n[r],s.defineValue(e,o,t[o])}function r(e,t){return function(){return t.tokens[e].value}}function i(e,t,n){return function(o){var r=t.tokens[e].vms;t.tokens[e].value=o,r.forEach(function(t){t.notify(n,e),f.take(n,e,t)})}}var s=n(1),a=Array.prototype,u=Object.create(a),c=["push","pop","shift","unshift","splice","sort","reverse"],f=e.exports=function(e){this.vms=[],this.tokens={},s.defineValue(e,"__ob__",this),s.type(e,"Array")?(o(e,u,l),this.ArrayObserve(e)):s.type(e,"Object")&&this.ObjectObserve(e)};f.prototype.ObjectObserve=function(e){var t=this;Object.observe(e,function(n){n.forEach(function(n){var o,r=n.oldValue;o=r?r.__ob__:null,s.type(r,"Array")?o&&o.vms.forEach(function(e){return e.notify(n.object)}):t.vms.forEach(function(t){"component"===t.namespace?t.notify():t.notify(e)})})});for(var n in e)f.create(e[n])},f.prototype.ArrayObserve=function(e){for(var t=e.length,n=this;t--;){this.tokens[t]={value:e[t],vms:[]},Object.defineProperty(e,t,{get:r(t,n),set:i(t,n,e)});var o=f.create(e[t]);o&&(o.vms=this.tokens[t].vms)}},f.prototype.addVM=function(e){e&&-1===this.vms.indexOf(e)&&this.vms.push(e)},f.prototype.addToken=function(e,t){void 0!==e&&t&&-1===this.tokens[e].vms.indexOf(t)&&this.tokens[e].vms.push(t)},f.release=function(e,t){var n;return e&&e.hasOwnProperty("__ob__")&&e.__ob__ instanceof f?n=e.__ob__:!s.type(e,"Array")&&!s.type(e,"Object")||Object.isFrozen(e)||(n=new f(e)),n&&t&&n.addVM(t),n},f.create=function(e,t){var n=f.release(e,t);return n&&t&&n.addVM(t),n},f.take=function(e,t,n){var o=f.release(e[t],n);return o&&n?o.addVM(n):n&&(o=e.__ob__,o.addToken(t,n)),o},c.forEach(function(e){var t=a[e];s.defineValue(u,e,function(){for(var e=this,n=arguments.length,o=Array(n),r=0;n>r;r++)o[r]=arguments[r];var i=t.apply(this,o);return this.__ob__.vms.forEach(function(t){return t.notify(e.__parent__)}),i})});var l=Object.getOwnPropertyNames(u);s.defineValue(a,"$remove",function(e){return this.length?("number"!=typeof e&&(e=this.indexOf(e)),e>-1?this.splice(e,1):void 0):void 0})},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),s=r(i),a=n(1),u=o(a);t["default"]=function(e,t){var n=e.textContent,o=u.createNodeCopier(),r=[];return n.split(u.REGEXP_TAGSPILTOR).forEach(function(e,n){var i=n%2===1,a=i?u.configs.defaultText:e,c=document.createTextNode(a),f=e.trim();if(i&&f.length>0){var l=new s["default"](c,f);l.parent=t,r.push(l)}o.appendChild(c)}),e.parentNode.replaceChild(o,e),r},e.exports=t["default"]},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(3),a=o(s),u=n(1),c=o(u),f=function(){function e(){r(this,e),this.objects=[],this.components=[],this.arrays=[],this.scope=null}return i(e,[{key:"init",value:function(e){return this.scope=e||{},this.notify(),this.watch(this.scope),this}},{key:"watch",value:function(e){var t=this;e&&(a.create(e,this),Object.keys(e).forEach(function(n){c.type(e[n],"Object")&&t.watch(e[n])}))}},{key:"notify",value:function(){var e=this;setTimeout(function(){e.objects.forEach(function(t){return t.notify(e.scope)}),e.arrays.forEach(function(t){t.installed||t.notify(e.scope)}),e.components.forEach(function(t){t.installed||t.notify(e.scope)})},0)}}]),e}();t["default"]=f,e.exports=t["default"]},function(e,t,n){/*!
	  * domready (c) Dustin Diaz 2014 - License MIT
	  */
!function(t,n){e.exports=n()}("domready",function(){var e,t=[],n=document,o=n.documentElement.doScroll,r="DOMContentLoaded",i=(o?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return i||n.addEventListener(r,e=function(){for(n.removeEventListener(r,e),i=1;e=t.shift();)e()}),function(e){i?setTimeout(e,0):t.push(e)}})},function(e,t){e.exports=function(){var e=function(e){var t,e=e.toString(),n=0;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t)&4294967295;return n},t=function(t){var n=0;for(var r in t)t.hasOwnProperty(r)&&(n+=e(r+o(t[r])));return n},n=function(t){return e(t.toString())},o=function(o){var r={string:e,number:e,"boolean":e,object:t,"function":n},i=typeof o;return null!=o&&r[i]?r[i](o)+e(i):0};return o}()}])});